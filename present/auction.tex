% generated by Plantuml 1.2024.0       
\definecolor{plantucolor0000}{RGB}{34,34,34}
\definecolor{plantucolor0001}{RGB}{241,241,241}
\definecolor{plantucolor0002}{RGB}{24,24,24}
\definecolor{plantucolor0003}{RGB}{0,0,0}
\definecolor{plantucolor0004}{RGB}{85,85,85}
\definecolor{plantucolor0005}{RGB}{255,255,255}
\begin{tikzpicture}[yscale=-1
,pstyle1/.style={color=plantucolor0002,fill=plantucolor0001,line width=0.5pt}
,pstyle2/.style={color=plantucolor0002,line width=0.5pt}
,pstyle3/.style={color=plantucolor0005,fill=plantucolor0004,line width=1.0pt}
,pstyle4/.style={color=plantucolor0002,line width=1.0pt}
,pstyle5/.style={color=plantucolor0002,fill=plantucolor0002,line width=1.0pt}
]
\draw[color=plantucolor0000,fill=plantucolor0000,line width=1.0pt] (578pt,39pt) ellipse (10pt and 10pt);
\draw[pstyle1] (461pt,39pt) arc (180:270:25pt) -- (486pt,14pt) -- (507.6pt,14pt) arc (270:360:25pt) -- (532.6pt,39pt) -- (532.6pt,39pt) arc (0:90:25pt) -- (507.6pt,64pt) -- (486pt,64pt) arc (90:180:25pt) -- (461pt,39pt) -- cycle;
\draw[pstyle2] (461pt,40.0986pt) -- (532.6pt,40.0986pt);
\node at (471pt,19pt)[below right,color=black]{Waiting};
\draw[pstyle1] (174pt,157pt) arc (180:270:25pt) -- (199pt,132pt) -- (327.4647pt,132pt) arc (270:360:25pt) -- (352.4647pt,157pt) -- (352.4647pt,157pt) arc (0:90:25pt) -- (327.4647pt,182pt) -- (199pt,182pt) arc (90:180:25pt) -- (174pt,157pt) -- cycle;
\draw[pstyle2] (174pt,158.0986pt) -- (352.4647pt,158.0986pt);
\node at (236.3212pt,137pt)[below right,color=black]{Pushing};
\node at (179pt,163.0986pt)[below right,color=black]{The waiting queue is locked.};
\draw[pstyle1] (215.5pt,283pt) arc (180:270:25pt) -- (240.5pt,258pt) -- (285.3381pt,258pt) arc (270:360:25pt) -- (310.3381pt,283pt) -- (310.3381pt,283pt) arc (0:90:25pt) -- (285.3381pt,308pt) -- (240.5pt,308pt) arc (90:180:25pt) -- (215.5pt,283pt) -- cycle;
\draw[pstyle2] (215.5pt,284.0986pt) -- (310.3381pt,284.0986pt);
\node at (225.5pt,263pt)[below right,color=black]{PreAuction};
\draw[pstyle1] (50.5pt,409pt) arc (180:270:25pt) -- (75.5pt,384pt) -- (156.6404pt,384pt) arc (270:360:25pt) -- (181.6404pt,409pt) -- (181.6404pt,409pt) arc (0:90:25pt) -- (156.6404pt,434pt) -- (75.5pt,434pt) arc (90:180:25pt) -- (50.5pt,409pt) -- cycle;
\draw[pstyle2] (50.5pt,410.0986pt) -- (181.6404pt,410.0986pt);
\node at (84.3834pt,389pt)[below right,color=black]{Matching};
\node at (55.5pt,415.0986pt)[below right,color=black]{The book is locked.};
\draw[pstyle1] (7pt,32pt) arc (180:270:25pt) -- (32pt,7pt) -- (176.0752pt,7pt) arc (270:360:25pt) -- (201.0752pt,32pt) -- (201.0752pt,45.6963pt) arc (0:90:25pt) -- (176.0752pt,70.6963pt) -- (32pt,70.6963pt) arc (90:180:25pt) -- (7pt,45.6963pt) -- cycle;
\draw[pstyle2] (7pt,33.0986pt) -- (201.0752pt,33.0986pt);
\node at (71.4012pt,12pt)[below right,color=black]{Canceling};
\node at (12pt,38.0986pt)[below right,color=black]{Firstly, lock the waiting queue.};
\node at (12pt,51.8975pt)[below right,color=black]{Secondly, lock the book.};
\draw[pstyle1] (624pt,157pt) arc (180:270:25pt) -- (649pt,132pt) -- (649pt,132pt) arc (270:360:25pt) -- (674pt,157pt) -- (674pt,157pt) arc (0:90:25pt) -- (649pt,182pt) -- (649pt,182pt) arc (90:180:25pt) -- (624pt,157pt) -- cycle;
\draw[pstyle2] (624pt,158.0986pt) -- (674pt,158.0986pt);
\node at (634.64pt,137pt)[below right,color=black]{Calc};
\draw[pstyle1] (453.5pt,409pt) arc (180:270:25pt) -- (478.5pt,384pt) -- (643.4455pt,384pt) arc (270:360:25pt) -- (668.4455pt,409pt) -- (668.4455pt,409pt) arc (0:90:25pt) -- (643.4455pt,434pt) -- (478.5pt,434pt) arc (90:180:25pt) -- (453.5pt,409pt) -- cycle;
\draw[pstyle2] (453.5pt,410.0986pt) -- (668.4455pt,410.0986pt);
\node at (534.1553pt,389pt)[below right,color=black]{Viewing};
\node at (458.5pt,415.0986pt)[below right,color=black]{Lock the book. It's read only now.};
\draw[pstyle3] (628pt,510pt) rectangle (708pt,518pt);
\draw[pstyle3] (293pt,510pt) rectangle (373pt,518pt);
\draw[pstyle4] (539.07pt,39pt) ..controls (550.65pt,39pt) and (556.24pt,39pt) .. (567.82pt,39pt);
\draw[pstyle5] (533.07pt,39pt) -- (542.07pt,43pt) -- (538.07pt,39pt) -- (542.07pt,35pt) -- (533.07pt,39pt) -- cycle;
\draw[pstyle4] (460.95pt,57.87pt) ..controls (420.95pt,77.7pt) and (361.5657pt,107.1351pt) .. (317.0857pt,129.1851pt);
\draw[pstyle5] (311.71pt,131.85pt) -- (321.5502pt,131.4365pt) -- (316.1898pt,129.6293pt) -- (317.997pt,124.2688pt) -- (311.71pt,131.85pt) -- cycle;
\draw[pstyle4] (263pt,182.2pt) ..controls (263pt,204.05pt) and (263pt,230.03pt) .. (263pt,251.86pt);
\draw[pstyle5] (263pt,257.86pt) -- (267pt,248.86pt) -- (263pt,252.86pt) -- (259pt,248.86pt) -- (263pt,257.86pt) -- cycle;
\node at (264pt,213pt)[below right,color=black]{watcher := true};
\draw[pstyle4] (215.49pt,288.88pt) ..controls (157.35pt,295.94pt) and (64.02pt,311.19pt) .. (43pt,338pt) ..controls (30pt,354.58pt) and (40.1728pt,367.7556pt) .. (60.0228pt,380.5156pt);
\draw[pstyle5] (65.07pt,383.76pt) -- (59.6622pt,375.5286pt) -- (60.864pt,381.0563pt) -- (55.3363pt,382.2581pt) -- (65.07pt,383.76pt) -- cycle;
\node at (44pt,339pt)[below right,color=black]{The wating queue is not empty.};
\draw[pstyle4] (181.69pt,391.59pt) ..controls (203.08pt,383.39pt) and (225.33pt,371.38pt) .. (241pt,354pt) ..controls (252.35pt,341.42pt) and (256.7765pt,328.915pt) .. (259.4365pt,314.145pt);
\draw[pstyle5] (260.5pt,308.24pt) -- (254.9681pt,316.3885pt) -- (259.6138pt,313.1608pt) -- (262.8415pt,317.8065pt) -- (260.5pt,308.24pt) -- cycle;
\draw[pstyle4] (310.63pt,261.86pt) ..controls (328.23pt,253.04pt) and (347.62pt,241.58pt) .. (363pt,228pt) ..controls (418.58pt,178.92pt) and (460.9604pt,107.8801pt) .. (481.7704pt,69.3201pt);
\draw[pstyle5] (484.62pt,64.04pt) -- (476.8255pt,70.0605pt) -- (482.2454pt,68.4401pt) -- (483.8657pt,73.8599pt) -- (484.62pt,64.04pt) -- cycle;
\node at (445pt,150pt)[below right,color=black]{watcher := false};
\draw[pstyle4] (207.1pt,39pt) ..controls (293.69pt,39pt) and (374.29pt,39pt) .. (460.88pt,39pt);
\draw[pstyle5] (201.1pt,39pt) -- (210.1pt,43pt) -- (206.1pt,39pt) -- (210.1pt,35pt) -- (201.1pt,39pt) -- cycle;
\draw[pstyle4] (244.6pt,257.68pt) ..controls (224.25pt,239.19pt) and (193.8pt,211.89pt) .. (174pt,182pt) ..controls (151.02pt,147.31pt) and (138.7721pt,106.7173pt) .. (126.8221pt,76.5873pt);
\draw[pstyle5] (124.61pt,71.01pt) -- (124.2099pt,80.8507pt) -- (126.4534pt,75.6578pt) -- (131.6463pt,77.9013pt) -- (124.61pt,71.01pt) -- cycle;
\draw[pstyle4] (97.92pt,71.01pt) ..controls (101.56pt,101.14pt) and (116.02pt,147.31pt) .. (139pt,182pt) ..controls (158.87pt,211.99pt) and (184.5544pt,235.9253pt) .. (210.8244pt,254.4253pt);
\draw[pstyle5] (215.73pt,257.88pt) -- (210.6747pt,249.4276pt) -- (211.642pt,255.0011pt) -- (206.0684pt,255.9684pt) -- (215.73pt,257.88pt) -- cycle;
\draw[pstyle4] (524.06pt,64.05pt) ..controls (544.49pt,77.32pt) and (569.81pt,92.75pt) .. (580pt,101pt) ..controls (595.32pt,113.4pt) and (606.0287pt,126.1942pt) .. (619.4287pt,137.9442pt);
\draw[pstyle5] (623.94pt,141.9pt) -- (619.8103pt,132.9588pt) -- (620.1806pt,138.6035pt) -- (614.5359pt,138.9738pt) -- (623.94pt,141.9pt) -- cycle;
\draw[pstyle4] (645.29pt,131.89pt) ..controls (637.62pt,121.74pt) and (626.34pt,110.18pt) .. (615pt,101pt) ..controls (601.8pt,90.31pt) and (568.6796pt,70.2055pt) .. (538.4796pt,55.7155pt);
\draw[pstyle5] (533.07pt,53.12pt) -- (539.454pt,60.6196pt) -- (537.578pt,55.2829pt) -- (542.9147pt,53.4069pt) -- (533.07pt,53.12pt) -- cycle;
\draw[pstyle4] (303.67pt,308.16pt) ..controls (329.08pt,322.63pt) and (362.79pt,340.74pt) .. (394pt,354pt) ..controls (420.36pt,365.2pt) and (444.1602pt,373.648pt) .. (470.9602pt,382.138pt);
\draw[pstyle5] (476.68pt,383.95pt) -- (469.3082pt,377.4188pt) -- (471.9135pt,382.44pt) -- (466.8922pt,385.0452pt) -- (476.68pt,383.95pt) -- cycle;
\node at (395pt,339pt)[below right,color=black]{Require quotations now.};
\draw[pstyle4] (514.37pt,64.02pt) ..controls (526.21pt,81.84pt) and (540.97pt,107.23pt) .. (548pt,132pt) ..controls (573.55pt,221.99pt) and (568.2386pt,329.0425pt) .. (564.0086pt,377.8025pt);
\draw[pstyle5] (563.49pt,383.78pt) -- (568.2529pt,375.1594pt) -- (563.9221pt,378.7987pt) -- (560.2828pt,374.468pt) -- (563.49pt,383.78pt) -- cycle;
\node at (565pt,213pt)[below right,color=black]{Require quotations now.};
\draw[pstyle4] (668.54pt,420.71pt) ..controls (694.69pt,428.68pt) and (719.76pt,442pt) .. (736pt,464pt) ..controls (752.93pt,486.95pt) and (709.8691pt,501.9034pt) .. (686.0391pt,508.3934pt);
\draw[pstyle5] (680.25pt,509.97pt) -- (689.9848pt,511.4645pt) -- (685.0743pt,508.6561pt) -- (687.8826pt,503.7456pt) -- (680.25pt,509.97pt) -- cycle;
\node at (740pt,465pt)[below right,color=black]{Another quotation requirement.};
\draw[pstyle4] (628pt,512.86pt) ..controls (602.42pt,510.43pt) and (570.96pt,502.57pt) .. (554pt,480pt) ..controls (544.31pt,467.11pt) and (544.7606pt,454.6484pt) .. (549.1306pt,440.0384pt);
\draw[pstyle5] (550.85pt,434.29pt) -- (544.4387pt,441.7663pt) -- (549.4172pt,439.0803pt) -- (552.1032pt,444.0588pt) -- (550.85pt,434.29pt) -- cycle;
\node at (555pt,465pt)[below right,color=black]{Many viewing concurrently.};
\draw[pstyle4] (453.26pt,432.24pt) ..controls (428.14pt,440.06pt) and (402.25pt,450.42pt) .. (380pt,464pt) ..controls (359.07pt,476.78pt) and (344.5391pt,496.2026pt) .. (338.5391pt,504.8926pt);
\draw[pstyle5] (335.13pt,509.83pt) -- (343.5352pt,504.6965pt) -- (337.9709pt,505.7155pt) -- (336.9519pt,500.1511pt) -- (335.13pt,509.83pt) -- cycle;
\node at (381pt,465pt)[below right,color=black]{All viewing have finished.};
\draw[pstyle4] (332.06pt,509.91pt) ..controls (325.52pt,488.53pt) and (288.5439pt,367.5579pt) .. (272.1139pt,313.8079pt);
\draw[pstyle5] (270.36pt,308.07pt) -- (269.1656pt,317.8462pt) -- (271.8216pt,312.8516pt) -- (276.8162pt,315.5076pt) -- (270.36pt,308.07pt) -- cycle;
\end{tikzpicture}
